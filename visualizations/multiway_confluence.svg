<?xml version="1.0" encoding="UTF-8"?>
<svg width="600" height="400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="3" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <linearGradient id="purpleGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#C77DFF"/>
      <stop offset="100%" style="stop-color:#7B2CBF"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="100%" height="100%" fill="#10002B"/>

  <!-- Grid pattern (subtle) -->
  <g stroke="#1a0033" stroke-width="0.5" opacity="0.3">
    <line x1="0" y1="100" x2="600" y2="100"/>
    <line x1="0" y1="200" x2="600" y2="200"/>
    <line x1="0" y1="300" x2="600" y2="300"/>
    <line x1="150" y1="0" x2="150" y2="400"/>
    <line x1="300" y1="0" x2="300" y2="400"/>
    <line x1="450" y1="0" x2="450" y2="400"/>
  </g>

  <!-- Title -->
  <text x="300" y="30" fill="#E0AAFF" font-family="Courier New" font-size="18" text-anchor="middle" font-weight="bold" letter-spacing="2">
    MULTIWAY β-REDUCTION
  </text>

  <!-- Edges -->
  <g stroke="#7B2CBF" stroke-width="2" fill="none" opacity="0.8">
    <!-- Layer 0 → 1 -->
    <path d="M300,70 Q200,100 120,140" filter="url(#glow)"/>
    <path d="M300,70 Q400,100 480,140" filter="url(#glow)"/>

    <!-- Layer 1 → 2 -->
    <path d="M120,170 Q100,200 80,240" filter="url(#glow)"/>
    <path d="M120,170 Q140,200 160,240" filter="url(#glow)"/>
    <path d="M480,170 Q460,200 440,240" filter="url(#glow)"/>
    <path d="M480,170 Q500,200 520,240" filter="url(#glow)"/>

    <!-- Layer 2 → 3 (convergence) -->
    <path d="M80,270 Q150,320 300,350" filter="url(#glow)"/>
    <path d="M160,270 Q200,320 300,350" filter="url(#glow)"/>
    <path d="M440,270 Q400,320 300,350" filter="url(#glow)"/>
    <path d="M520,270 Q450,320 300,350" filter="url(#glow)"/>
  </g>

  <!-- Nodes -->
  <g filter="url(#glow)">
    <!-- Layer 0: Initial -->
    <circle cx="300" cy="60" r="18" fill="#FF6B6B"/>
    <text x="300" y="65" fill="#10002B" font-family="Courier New" font-size="12" text-anchor="middle" font-weight="bold">t₀</text>

    <!-- Layer 1: First branches -->
    <circle cx="120" cy="155" r="14" fill="#9D4EDD"/>
    <text x="120" y="160" fill="#E0AAFF" font-family="Courier New" font-size="10" text-anchor="middle">t₁</text>

    <circle cx="480" cy="155" r="14" fill="#9D4EDD"/>
    <text x="480" y="160" fill="#E0AAFF" font-family="Courier New" font-size="10" text-anchor="middle">t₂</text>

    <!-- Layer 2: More branches -->
    <circle cx="80" cy="255" r="12" fill="#9D4EDD"/>
    <circle cx="160" cy="255" r="12" fill="#9D4EDD"/>
    <circle cx="440" cy="255" r="12" fill="#9D4EDD"/>
    <circle cx="520" cy="255" r="12" fill="#9D4EDD"/>

    <!-- Layer 3: Confluence! -->
    <circle cx="300" cy="360" r="22" fill="#E0AAFF"/>
    <text x="300" y="365" fill="#10002B" font-family="Courier New" font-size="14" text-anchor="middle" font-weight="bold">NF</text>
  </g>

  <!-- Annotations -->
  <text x="50" y="90" fill="#9D4EDD" font-family="Courier New" font-size="10" opacity="0.8">branching</text>
  <text x="500" y="90" fill="#9D4EDD" font-family="Courier New" font-size="10" opacity="0.8">branching</text>
  <text x="250" y="320" fill="#C77DFF" font-family="Courier New" font-size="11">confluence</text>

  <!-- Legend -->
  <g transform="translate(20, 370)">
    <circle cx="10" cy="0" r="6" fill="#FF6B6B"/>
    <text x="25" y="4" fill="#E0AAFF" font-family="Courier New" font-size="9">initial</text>
    <circle cx="90" cy="0" r="6" fill="#9D4EDD"/>
    <text x="105" y="4" fill="#E0AAFF" font-family="Courier New" font-size="9">intermediate</text>
    <circle cx="200" cy="0" r="6" fill="#E0AAFF"/>
    <text x="215" y="4" fill="#E0AAFF" font-family="Courier New" font-size="9">normal form</text>
  </g>
</svg>
