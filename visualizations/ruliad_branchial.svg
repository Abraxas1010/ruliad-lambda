<?xml version="1.0" encoding="UTF-8"?>
<svg width="700" height="450" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="3" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <radialGradient id="nodeGrad" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:#E0AAFF"/>
      <stop offset="100%" style="stop-color:#9D4EDD"/>
    </radialGradient>
  </defs>

  <!-- Background -->
  <rect width="100%" height="100%" fill="#10002B"/>

  <!-- Title -->
  <text x="350" y="30" fill="#E0AAFF" font-family="Courier New" font-size="16" text-anchor="middle" font-weight="bold" letter-spacing="2">
    BRANCHIAL GRAPH — λ-CALCULUS RULIAD SLICE
  </text>
  <text x="350" y="50" fill="#9D4EDD" font-family="Courier New" font-size="11" text-anchor="middle">
    Terms reachable from (λx.x x)(λy.y) at depth 3
  </text>

  <!-- Branchial connections (same-depth simultaneity) -->
  <g stroke="#3c096c" stroke-width="1" fill="none" opacity="0.4">
    <!-- Horizontal branchial links at each level -->
    <path d="M100,120 Q200,100 300,120"/>
    <path d="M300,120 Q400,100 500,120"/>
    <path d="M500,120 Q550,100 600,120"/>

    <path d="M60,200 Q130,180 200,200"/>
    <path d="M200,200 Q280,180 360,200"/>
    <path d="M360,200 Q440,180 520,200"/>
    <path d="M520,200 Q580,180 640,200"/>

    <path d="M40,280 Q100,260 160,280"/>
    <path d="M160,280 Q220,260 280,280"/>
    <path d="M280,280 Q340,260 400,280"/>
    <path d="M400,280 Q460,260 520,280"/>
    <path d="M520,280 Q580,260 640,280"/>
  </g>

  <!-- Causal edges (vertical reduction paths) -->
  <g stroke="#7B2CBF" stroke-width="1.5" fill="none" opacity="0.6">
    <!-- Level 0 to 1 -->
    <line x1="350" y1="90" x2="100" y2="115"/>
    <line x1="350" y1="90" x2="300" y2="115"/>
    <line x1="350" y1="90" x2="500" y2="115"/>
    <line x1="350" y1="90" x2="600" y2="115"/>

    <!-- Level 1 to 2 -->
    <line x1="100" y1="130" x2="60" y2="195"/>
    <line x1="100" y1="130" x2="200" y2="195"/>
    <line x1="300" y1="130" x2="200" y2="195"/>
    <line x1="300" y1="130" x2="360" y2="195"/>
    <line x1="500" y1="130" x2="360" y2="195"/>
    <line x1="500" y1="130" x2="520" y2="195"/>
    <line x1="600" y1="130" x2="520" y2="195"/>
    <line x1="600" y1="130" x2="640" y2="195"/>

    <!-- Level 2 to 3 -->
    <line x1="60" y1="210" x2="40" y2="275"/>
    <line x1="60" y1="210" x2="160" y2="275"/>
    <line x1="200" y1="210" x2="160" y2="275"/>
    <line x1="200" y1="210" x2="280" y2="275"/>
    <line x1="360" y1="210" x2="280" y2="275"/>
    <line x1="360" y1="210" x2="400" y2="275"/>
    <line x1="520" y1="210" x2="400" y2="275"/>
    <line x1="520" y1="210" x2="520" y2="275"/>
    <line x1="640" y1="210" x2="520" y2="275"/>
    <line x1="640" y1="210" x2="640" y2="275"/>
  </g>

  <!-- Level 0: Origin -->
  <g filter="url(#glow)">
    <circle cx="350" cy="80" r="18" fill="#FF6B6B"/>
    <text x="350" y="85" fill="#10002B" font-family="Courier New" font-size="10" text-anchor="middle" font-weight="bold">Ω</text>
  </g>

  <!-- Level 1: First branches -->
  <g filter="url(#glow)">
    <circle cx="100" cy="120" r="12" fill="url(#nodeGrad)"/>
    <circle cx="300" cy="120" r="12" fill="url(#nodeGrad)"/>
    <circle cx="500" cy="120" r="12" fill="url(#nodeGrad)"/>
    <circle cx="600" cy="120" r="12" fill="url(#nodeGrad)"/>
  </g>

  <!-- Level 2 -->
  <g filter="url(#glow)">
    <circle cx="60" cy="200" r="10" fill="#9D4EDD"/>
    <circle cx="200" cy="200" r="10" fill="#9D4EDD"/>
    <circle cx="360" cy="200" r="10" fill="#9D4EDD"/>
    <circle cx="520" cy="200" r="10" fill="#9D4EDD"/>
    <circle cx="640" cy="200" r="10" fill="#9D4EDD"/>
  </g>

  <!-- Level 3 -->
  <g filter="url(#glow)">
    <circle cx="40" cy="280" r="8" fill="#7B2CBF"/>
    <circle cx="160" cy="280" r="8" fill="#7B2CBF"/>
    <circle cx="280" cy="280" r="8" fill="#7B2CBF"/>
    <circle cx="400" cy="280" r="8" fill="#7B2CBF"/>
    <circle cx="520" cy="280" r="8" fill="#7B2CBF"/>
    <circle cx="640" cy="280" r="8" fill="#7B2CBF"/>
  </g>

  <!-- Annotations -->
  <text x="30" y="80" fill="#7B2CBF" font-family="Courier New" font-size="10">depth 0</text>
  <text x="30" y="125" fill="#7B2CBF" font-family="Courier New" font-size="10">depth 1</text>
  <text x="30" y="205" fill="#7B2CBF" font-family="Courier New" font-size="10">depth 2</text>
  <text x="30" y="285" fill="#7B2CBF" font-family="Courier New" font-size="10">depth 3</text>

  <!-- Branchial slice indicator -->
  <rect x="35" y="315" width="630" height="30" fill="none" stroke="#C77DFF" stroke-width="1" stroke-dasharray="5,5" rx="5"/>
  <text x="350" y="335" fill="#C77DFF" font-family="Courier New" font-size="10" text-anchor="middle">
    branchial slice (simultaneity surface)
  </text>

  <!-- Legend -->
  <g transform="translate(180, 380)">
    <line x1="0" y1="0" x2="30" y2="0" stroke="#7B2CBF" stroke-width="2"/>
    <text x="40" y="4" fill="#E0AAFF" font-family="Courier New" font-size="9">causal (reduction)</text>
    <line x1="150" y1="0" x2="180" y2="0" stroke="#3c096c" stroke-width="2"/>
    <text x="190" y="4" fill="#E0AAFF" font-family="Courier New" font-size="9">branchial (spacelike)</text>
  </g>

  <!-- Quote -->
  <text x="350" y="420" fill="#9D4EDD" font-family="Courier New" font-size="9" text-anchor="middle" font-style="italic">
    "The branchial graph shows the structure of simultaneity in the multiway system"
  </text>
  <text x="350" y="435" fill="#7B2CBF" font-family="Courier New" font-size="9" text-anchor="middle">
    — Wolfram Physics Project
  </text>
</svg>
